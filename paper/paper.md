---title: 'HuracanPy: A python package for reading and analysing cyclone tracks'tags:  - Python  - cyclonesauthors:  - name: Stella Bourdin    orcid: 0000-0003-2635-5654    equal-contrib: true    affiliation: 1     corresponding: true  - name: Leo Saffin    orcid: 0000-0002-6744-7785    equal-contrib: true # (This is how you can denote equal contributions between multiple authors)    affiliation: 2    corresponding: trueaffiliations: - name: University of Oxford, Department of Physics, Oxford, UK   index: 1   ror: 00hx57361 - name: University of Reading, Department of Meteorology, Reading, UK # Please adjust   index: 2   ror: 05v62cm79date: XX December 2024bibliography: paper.bib---# SummaryHuracanPy is a python module for working with cyclone track data, where cyclone tracks are recorded as a list of points in space and time. HuracanPy provides a powerful loading function that supports most of the most common track data formats and loads the tracks as xarray datasets [@xarray2017].As such, we draw from the power of xarray's built-in functions and the functionality of other libraries that work with xarray, such as MetPy [@metpy]. We also provide functions specific to cyclone analysis, which are gathered as methods in an xarray accessor. These include functions to subset or interpolate track data, to add useful information, to compute common diagnoses, and to make quick exploration plots. With this package, we hope to make track data analysis more accessible and more reproducible. # Defining track dataCyclones can be defined as pointwise features in space and time. Therefore, their trajectory can be recorded as a list of points in space and time. We call "track data" a list of such points. In many cases, the list not only consist of position in space and time, but also contains additional information about the cyclone, such as intensity. When the dataset contains data about several cyclones, each individual track is identified by a "track ID". # Statement of needIn meteorological and climatological research about cyclones of any kind, we have been using different file formats and conventions for track data. HuracanPy's first purpose is to be able to read all these files in a common Python framework. There is also a lack of a common analysis tool fostering reproducible analysis of such track data. For this reason, HuracanPy's second purpose is to offer a suite of functions to build analysis workflows. As such, HuracanPy is mainly an analysis tool, that goes after the tracking, and before the writing in a research project. Our aim is to make track data analysis more accessible, and to promote good reproducibility practices. # DescriptionHuracanPy is built on xarray. It loads track data as an xarray dataset, and provides an xarray accessor to provide cyclone-specific analysis methods. This allows us to draw from xarray's performance and existing methods, and also means that we can handle track attributes which are not just scalar.## Loading dataHuracanPy currently supports loading tracks from:* CSV (comma-separated variable) files where each row correspond to a cyclone point and each column to a feature.* NetCDF (Network Common Data Form) files following CF (Climate and Forecast) conventions [@cfconventions], specifically the formats for trajectory data described in H.4 [@cfconventionswebpage]. NetCDF files similar to the CF conventions can also be loaded provided they use specific naming for the track ID.* Text files from TempestExtreme's StitchNodes (GFDL format, see [@ullrich2021tempestextremes])* Text files from TRACK [@TRACKa, @TRACKb]HuracanPy can also load IBTrACS [ref] from the online source, or from an embedded file. Tracks are loaded as an xarray dataset with one main dimension called `record`. HuracanPy can also save the track data as CSV and NetCDF files. ## AnalysisMost of HuracanPy's analysis functions can be called through an xarray accessor named `hrcn`.* Manupulating data:    Loading the track data as an xarray object means the user can easily use xarray's methods such as `.where` to subset. However we found useful to add specific function that allows for subsetting based on a specific track ID, and on some track properties. We also added a specific function to interpolate track to a different time resolution. * Adding track info:    HuracanPy includes functions to add common geographical and categorical information to the tracks, such as whether a point in over land or the ocean, or which category it belongs to in a defined convention. * Computing common diagnoses:    HuracanPy includes function to compute track duration, genesis or lifetime maximum intensity attributes, translation speed, lifecycles and rates.* Tropical Cyclones-specific diagnoses:    These include accumulated cyclone energy (ACE) [ref], pressure-derived ACE (PACE) [@zarzycki2021metrics], Saffir-Simpson categories [ref], Klotzbach pressure categories [ref].* Comparing two (or more) sets of tracks:    HuracanPy provides a one-on-one track matching function.    From such a matching table, scores of Probability of Detection (also called Hit Rate) and False Alarm Rate can be computed.    We also provide a function for computing the delay in onset and offset between the matched tracks.* Plot:    HuracanPy currently embeds a small number of functions which are meant mostly for preliminary visualisation.    These include plotting the track points, and the track density.    Due to the package being built on xarray, xarray's plot function can be used.    We leave it to the user to build more elaborate plots using their preferred libraries, noting that xarray in particular works well with seaborn. Where possible, functions have been made unit aware by using the accessor and wrapper from metpy [@metpy], which converts the inputs into a pint quantity [@pint] internally using the units from the xarray variable's attributes.# PerspectivesWe welcome suggestions of other track data format to support, and are happy to receive contribution of code to do so. At the moment, HuracanPy only include TC-specific diagnoses, but we are more than happy to receive contribution and feedback from other communities, included but not restricted to extra-tropical cyclones, polar lows, medicanes, subtropical cyclones, etc.While the motivation for HuracanPy is analysis of cyclone tracks, the data format and workflow should also apply to other types of trajectories, such as Lagrangian air-mass trajectories, and we would be interested in supporting common data formats for these.Main avenues for a potential v2 are supporting multi-dimensional data (e.g. snapshots from TempestExtremes' NodeFileCompose [@ullrich2021tempestextremes], WiTRACK footprints [Ref]) # AcknowledgementsWe acknowledge financial support from the Hurac√°n NERC-NSF large grant [numbers]. TROPICANA # References